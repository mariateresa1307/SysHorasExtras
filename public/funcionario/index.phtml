<?php include (getcwd()."/layout/TopComponent.phtml")?>
<?php include (getcwd()."/layout/HeaderComponent.phtml")?>
<?php include (getcwd()."/layout/MenuComponent.phtml")?>
<link rel="stylesheet" type="text/css" href="<?= $this->base_url ?>/assets/css/main.css">
<link rel="stylesheet" type="text/css" href="<?= $this->base_url ?>/assets/css/modal.css">
<link rel="stylesheet" type="text/css" href="<?=$this->base_url ?>/assets/css/funcionario.css">
<link rel="stylesheet" type="text/css" href="<?=$this->base_url ?>/assets/fontawesome/css/all.css">
<link rel="stylesheet" type="text/css" href="<?= $this->base_url ?>/assets/css/flexboxgrid.min.css">
<link rel="stylesheet" type="text/css" href="<?= $this->base_url ?>/assets/css/tableBoss.css">



<script src='<?=$this->base_url ?>/assets/js/popper_core@2.js'></script>
<script src='<?=$this->base_url ?>/assets/js/tippy@6.js'></script>
<script src='<?=$this->base_url ?>/assets/js/jquery-3.5.1.min.js'></script>
<script src='<?=$this->base_url ?>/assets/js/sweetalert2@10.js'></script>


<script src='<?=$this->base_url ?>/assets/js/dateTable.js'></script>
<script src='<?=$this->base_url ?>/assets/js/dateTableBoss.js'></script>
<h1 class="h1">Gestionar Funcionario</h1>


<div class="card2" style=" background-color: white; margin-top: -2px;
    border-top-color: white;">
  <div class="card-body">

    <table id="example" class="stripe" style="width:100%" style="margin-top: 40px;">
      <thead>

        <tr>
          <th>Cedula</th>
          <th>Nombres</th>
          <th>Apellidos</th>
          <th>Direccion</th>
          <th>Telefono</th>
          <th>Departamento</th>
          <th>Cargo</th>
          <th>Accion</th>
        </tr>
      </thead>
      <tbody>

        <?php foreach($this->funcionario as $valor) {?>
        <tr>
          <td><?= $valor["cedula"]?></td>
          <td><?= $valor["primer_nombre"]?><?= $valor["segundo_nombre"]?></td>
          <td><?= $valor["primer_apellido"]?><?= $valor["Segundo_apellido"]?></td>
          <td><?= $valor["direccion"]?></td>
          <td><?= $valor["telefono"]?></td>
          <td><?= $valor["departamento"]?></td>
          <td><?= $valor["cargo"]?></td>

          <td style=" text-align: center;"><a id="ai" href="#miModal" class="circle-right-btn" type="button"
              style="font-size: 15px;margin-left: 20px;color: coral;">
              <i class="fas fa-user-edit" style="font-size: 32px;"></i></a>
          </td>
        </tr>
        <?php } ?>



      </tbody>

    </table>



  </div>
  <div class="col-xs-12">
    <div style="text-align:center">
      <a href="#miModal" id="detalle" class="btn btn-primary"> Agregar</a>
    </div>
  </div>

</div>


</div>


<!--Inicio Modal Funcionario-->
<div id="miModal" class="modal">

  <div class="modal-contenido">

    <div class="row"
      style="background-color: #0c4dc1;width: 100%;margin-left: 0px !important;margin-right: 0px !important;height:70px">
      <div class="col-xs-6" style="color: white;">
        <h2>Gestionar Funcionario</h2>
      </div>

      <div class="col-xs-6" style="text-align: end;top: 10px;margin-top: 17px;padding-right: 29px;">
        <a href="#" style="text-decoration: none;color: white;">X</a>
      </div>
    </div>



    <div class="row start-xs" id="form" style="margin-top: 40px;padding-left: 95px;padding-right: 95px;">

      <div class="col-xs-4">
        <!--Input css-->
        <span class="input input--yoshiko">
          <input class="input__field input__field--yoshiko" type="text" name="cedula" id="cedula" />
          <label class="input__label input__label--yoshiko" for="input-10">
            <span class="input__label-content input__label-content--yoshiko" data-content="Cedula">Cedula</span>
          </label>
        </span>
        <!--Input css-->
      </div>
      <div class="col-xs-4">
        <!--Input css-->
        <span class="input input--yoshiko">
          <input class="input__field input__field--yoshiko" type="text" id="nombrep" />
          <label class="input__label input__label--yoshiko" for="input-10">
            <span class="input__label-content input__label-content--yoshiko" data-content="Primer Nombre">Primer
              Nombre</span>
          </label>
        </span>
        <!--Input css-->
      </div>

      <div class="col-xs-4">
        <!--Input css-->
        <span class="input input--yoshiko">
          <input class="input__field input__field--yoshiko" type="text" id="nombres" />
          <label class="input__label input__label--yoshiko" for="input-10">
            <span class="input__label-content input__label-content--yoshiko" data-content="Segundo Nombre">Primer
              Nombre</span>
          </label>
        </span>
        <!--Input css-->
      </div>

      <div class="col-xs-4">
        <!--Input css-->
        <span class="input input--yoshiko">
          <input class="input__field input__field--yoshiko" type="text" id="apellidop" />
          <label class="input__label input__label--yoshiko" for="input-10">
            <span class="input__label-content input__label-content--yoshiko" data-content="Primer Apellido">Primer
              Apellido</span>
          </label>
        </span>
        <!--Input css-->
      </div>

      <div class="col-xs-4">
        <!--Input css-->
        <span class="input input--yoshiko">
          <input class="input__field input__field--yoshiko" type="text" id="apellidos" />
          <label class="input__label input__label--yoshiko" for="input-10">
            <span class="input__label-content input__label-content--yoshiko" data-content="Segundo Apellido">Segundos
              Apellido</span>
          </label>
        </span>
        <!--Input css-->
      </div>
      <div class="col-xs-4">
        <!--Input css-->
        <span class="input input--yoshiko">
          <input class="input__field input__field--yoshiko" type="text" id="telefono" />
          <label class="input__label input__label--yoshiko" for="input-10">
            <span class="input__label-content input__label-content--yoshiko" data-content="Telefono">Telefono</span>
          </label>
        </span>
        <!--Input css-->
      </div>
      <div class="col-xs-4">
        <!--Input css-->
        <span class="input input--yoshiko">
          <input class="input__field input__field--yoshiko" type="text" id="direccion" />
          <label class="input__label input__label--yoshiko" for="input-10">
            <span class="input__label-content input__label-content--yoshiko" data-content="Direccion">Direccion</span>
          </label>
        </span>
        <!--Input css-->
      </div>
      <div class="col-xs-4">
        <!--Select with pure css-->
        <div class="select">
          <select class="select-text" id="departamento" required>
            <option value="" disabled selected></option>
            <option value="opcion-1">Enero</option>
            <option value="opcion-2">Febrero</option>
            <option value="opcion-x">Marzo</option>
            <option value="opcion-x">Abril</option>
            <option value="opcion-x">Mayo</option>
            <option value="opcion-x">Junio</option>
            <option value="opcion-x">Junio</option>
            <option value="opcion-x">Agosto</option>
            <option value="opcion-x">Septiembre</option>
            <option value="opcion-x">Octubre</option>
            <option value="opcion-x">Noviembre</option>
            <option value="opcion-x">Diciembre</option>
          </select>
          <label class="select-label">Departamento</label>
        </div>
        <!--Select with pure css-->

      </div>
      <div class="col-xs-4">
        <!--Select with pure css-->
        <div class="select" id="cargo">
          <select class="select-text" required>
            <option value="" disabled selected></option>
            <option value="opcion-1">Enero</option>
            <option value="opcion-2">Febrero</option>
            <option value="opcion-x">Marzo</option>
            <option value="opcion-x">Abril</option>
            <option value="opcion-x">Mayo</option>
            <option value="opcion-x">Junio</option>

          </select>
          <label class="select-label">Cargo</label>
        </div>
        <!--Select with pure css-->

      </div>


      <div class="col-xs-12">
        <div class="btn-group">

          <button type="button" onclick="agregar()" class="btn btn-primary1">Guardar</button>
        </div>
      </div>
    </div>

  </div>
</div>


<?php include (getcwd()."/layout/BottomComponent.phtml")?>

<script>
//aquiquede 
function agregar() {
  var input_cedula = document.getElementById("cedula");
  var input_nombrep = document.getElementById("nombrep");
  var input_nombres = document.getElementById("nombres");
  var input_apellidop = document.getElementById("apellidop");
  var input_apellidos = document.getElementById("apellidos");
  var input_telefono = document.getElementById("telefono");
  var input_direccion = document.getElementById("direccion");
  var input_departamento = document.getElementById("departamento");
  var input_cargo = document.getElementById("cargo");

  var dataToSend = {
    cedula: input_cedula.value,
    nombrep: input_nombrep.value,
    apellidop: input_apellidop.value,
    apellidos: input_apellidos.value,
    telefono: input_telefono.value,
    direccion: input_departamento.value,
    departamento: input_departamento.value,
    cergo: input_cargo.value,
  };

  //console.log(dataToSend)


  $.ajax({
      method: "POST",
      url: "<?=$this->base_url ?>/funcionario/guardar",
      data: dataToSend
    })
    .done(function(msg) {

      Swal.fire(
        'Exito!',
        'Registro guardado',
        'success'
      );

    })
    .fail(function(response) {
      alert("error interno");
    });
}

$(document).ready(function() {
  $('#example').DataTable();
});

$(document).ready(function() {
  tippy('#ai', {
    content: 'Modificar Funcionario',
  });
});
</script>