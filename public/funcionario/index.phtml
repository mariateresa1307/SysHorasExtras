<?php include (getcwd()."/layout/TopComponent.phtml")?>
<?php include (getcwd()."/layout/HeaderComponent.phtml")?>
<?php include (getcwd()."/layout/MenuComponent.phtml")?>
<link rel="stylesheet" type="text/css" href="<?= $this->base_url ?>/assets/css/main.css">
<link rel="stylesheet" type="text/css" href="<?= $this->base_url ?>/assets/css/modal.css">
<link rel="stylesheet" type="text/css" href="<?=$this->base_url ?>/assets/css/funcionario.css">
<link rel="stylesheet" type="text/css" href="<?=$this->base_url ?>/assets/fontawesome/css/all.css">
<link rel="stylesheet" type="text/css" href="<?= $this->base_url ?>/assets/css/flexboxgrid.min.css">
<link rel="stylesheet" type="text/css" href="<?= $this->base_url ?>/assets/css/tableBoss.css">



<script src='<?=$this->base_url ?>/assets/js/popper_core@2.js'></script>
<script src='<?=$this->base_url ?>/assets/js/tippy@6.js'></script>
<script src='<?=$this->base_url ?>/assets/js/jquery-3.5.1.min.js'></script>
<script src='<?=$this->base_url ?>/assets/js/sweetalert2@10.js'></script>


<script src='<?=$this->base_url ?>/assets/js/dateTable.js'></script>
<script src='<?=$this->base_url ?>/assets/js/dateTableBoss.js'></script>
<h1 class="h1">Gestionar Funcionario</h1>


<div class="card2" style=" background-color: white; margin-top: -2px;
    border-top-color: white;">
  <div class="card-body">

    <table id="example" class="stripe" style="width:100%" style="margin-top: 40px;">
      <thead>
        <tr>
          <th>Departamento</th>
          <th>Fecha</th>
          <th>Total Horas a Pagar Diurnas</th>
          <th>Total Horas a Pagar Nocturnas</th>
          <th>Salary</th>
          <th>Accion</th>
        </tr>

      </thead>
      <tbody>

        <tr>

          <td>Tiger Nixon</td>
          <td>System Architect</td>
          <td>Edinburgh</td>
          <td>61</td>
          <td>$320,800</td>
          <td style=" text-align: center;"><a id="ai" href="#miModal" class="circle-right-btn" type="button"
              style="font-size: 15px;margin-left: 20px;color: coral;">
              <i class="fas fa-user-edit" style="font-size: 32px;"></i></a>
          </td>
        </tr>


        <tr>
          <td>Finn Camacho</td>
          <td>Support Engineer</td>
          <td>San Francisco</td>
          <td>47</td>
          <td>$87,500</td>
          <td style=" text-align: center;"><a id="ai" href="#miModal" class="circle-right-btn" type="button"
              style="font-size: 15px;margin-left: 20px;color: coral;">
              <i class="fas fa-user-edit" style="font-size: 32px;"></i></a>
          </td>
        </tr>

      </tbody>

    </table>



  </div>
  <div class="col-xs-12">
    <div style="text-align:center">
      <a href="#miModal" id="detalle" class="btn btn-primary"> Agregar</a>
    </div>
  </div>

</div>


</div>


<!--Inicio Modal Funcionario-->
<div id="miModal" class="modal">

  <div class="modal-contenido">

    <div class="row"
      style="background-color: #0c4dc1;width: 100%;margin-left: 0px !important;margin-right: 0px !important;height:70px">
      <div class="col-xs-6" style="color: white;">
        <h2>Gestionar Funcionario</h2>
      </div>

      <div class="col-xs-6" style="text-align: end;top: 10px;margin-top: 17px;padding-right: 29px;">
        <a href="#" style="text-decoration: none;color: white;">X</a>
      </div>
    </div>



    <div class="row start-xs" id="form" style="margin-top: 40px;padding-left: 95px;padding-right: 95px;">
      <div class="col-xs-4">
        <!--Input css-->
        <span class="input input--yoshiko">
          <input class="input__field input__field--yoshiko" type="text" name="cedula" id="cedula" />
          <label class="input__label input__label--yoshiko" for="input-10">
            <span class="input__label-content input__label-content--yoshiko" data-content="Cedula">Cedula</span>
          </label>
        </span>
        <!--Input css-->
      </div>
      <div class="col-xs-4">
        <!--Input css-->
        <span class="input input--yoshiko">
          <input class="input__field input__field--yoshiko" type="text" id="input-10" />
          <label class="input__label input__label--yoshiko" for="input-10">
            <span class="input__label-content input__label-content--yoshiko" data-content="Primer Nombre">Primer
              Nombre</span>
          </label>
        </span>
        <!--Input css-->
      </div>

      <div class="col-xs-4">
        <!--Input css-->
        <span class="input input--yoshiko">
          <input class="input__field input__field--yoshiko" type="text" id="input-10" />
          <label class="input__label input__label--yoshiko" for="input-10">
            <span class="input__label-content input__label-content--yoshiko" data-content="Segundo Nombre">Primer
              Nombre</span>
          </label>
        </span>
        <!--Input css-->
      </div>

      <div class="col-xs-4">
        <!--Input css-->
        <span class="input input--yoshiko">
          <input class="input__field input__field--yoshiko" type="text" id="input-10" />
          <label class="input__label input__label--yoshiko" for="input-10">
            <span class="input__label-content input__label-content--yoshiko" data-content="Primer Apellido">Primer
              Apellido</span>
          </label>
        </span>
        <!--Input css-->
      </div>

      <div class="col-xs-4">
        <!--Input css-->
        <span class="input input--yoshiko">
          <input class="input__field input__field--yoshiko" type="text" id="input-10" />
          <label class="input__label input__label--yoshiko" for="input-10">
            <span class="input__label-content input__label-content--yoshiko" data-content="Segundo Apellido">Segundos
              Apellido</span>
          </label>
        </span>
        <!--Input css-->
      </div>
      <div class="col-xs-4">
        <!--Input css-->
        <span class="input input--yoshiko">
          <input class="input__field input__field--yoshiko" type="text" id="input-10" />
          <label class="input__label input__label--yoshiko" for="input-10">
            <span class="input__label-content input__label-content--yoshiko" data-content="Telefono">Telefono</span>
          </label>
        </span>
        <!--Input css-->
      </div>
      <div class="col-xs-12">
        <!--Input css-->
        <span class="input input--yoshiko">
          <input class="input__field input__field--yoshiko" type="text" id="input-10" />
          <label class="input__label input__label--yoshiko" for="input-10">
            <span class="input__label-content input__label-content--yoshiko" data-content="Direccion">Direccion</span>
          </label>
        </span>
        <!--Input css-->
      </div>


      <div class="col-xs-12">
        <div class="btn-group">

          <button type="button" onclick="agregar()" class="btn btn-primary1">Guardar</button>
        </div>
      </div>
    </div>

  </div>
</div>


<?php include (getcwd()."/layout/BottomComponent.phtml")?>

<script>
function agregar() {
  var cedula = document.getElementById("cedula");

  var dataToSend = {
    cedula: cedula.value
  };

  /*console.log(dataToSend)*/


  $.ajax({
      method: "POST",
      url: "<?=$this->base_url ?>/funcionario/guardar",
      data: dataToSend
    })
    .done(function(msg) {

      Swal.fire(
        'Exito!',
        'Registro guardado',
        'success'
      );

    })
    .fail(function(response) {
      alert("error interno");
    });
}

$(document).ready(function() {
  $('#example').DataTable();
});

$(document).ready(function() {
  tippy('#ai', {
    content: 'Modificar Funcionario',
  });
});
</script>